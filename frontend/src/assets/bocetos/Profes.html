<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>NetClassroom - Plataforma Educativa</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      :root {
        --primary: #0d6efd;
        --primary-dark: #0b5ed7;
        --dark: #141414;
        --darker: #0c0c0c;
        --light: #f5f5f5;
        --gray: #808080;
        --dark-gray: #2a2a2a;
        --light-gray: #3a3a3a;
        --transition: all 0.3s ease;
      }

      body {
        background-color: var(--darker);
        color: var(--light);
        overflow-x: hidden;
        height: 100vh;
      }

      /* Contenedor principal */
      .container {
        display: flex;
        flex-direction: column;
        height: 100vh;
      }

      /* Barra de navegación */
      .navbar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 50px;
        position: fixed;
        top: 0;
        width: 100%;
        z-index: 1000;
        background: linear-gradient(
          to bottom,
          rgba(13, 13, 13, 0.95) 0%,
          rgba(13, 13, 13, 0.85) 100%
        );
        transition: var(--transition);
      }

      .navbar.scrolled {
        background: rgba(13, 13, 13, 0.98);
        backdrop-filter: blur(10px);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 12px;
        font-size: 28px;
        font-weight: 700;
        color: var(--primary);
        text-decoration: none;
        cursor: pointer;
      }

      .user-actions {
        display: flex;
        align-items: center;
        gap: 20px;
        position: relative;
      }

      .user-profile {
        position: relative;
        cursor: pointer;
      }

      .user-profile img {
        width: 40px;
        height: 40px;
        border-radius: 4px;
        object-fit: cover;
        transition: var(--transition);
      }

      .user-profile img:hover {
        transform: scale(1.1);
      }

      /* Menú desplegable de usuario */
      .user-dropdown {
        position: absolute;
        top: 50px;
        right: 0;
        width: 200px;
        background: var(--dark);
        border-radius: 8px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        overflow: hidden;
        display: none;
        z-index: 1001;
      }

      .user-dropdown.show {
        display: block;
      }

      .dropdown-item {
        padding: 12px 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        cursor: pointer;
        transition: var(--transition);
      }

      .dropdown-item:hover {
        background: var(--dark-gray);
      }

      .dropdown-divider {
        height: 1px;
        background: var(--dark-gray);
      }

      /* Vista de selección de cuatrimestre (usuarios) */
      .cuatrimestres-view {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        height: 100vh;
        background:
          linear-gradient(rgba(0, 0, 0, 0.8), rgba(0, 0, 0, 0.9)),
          url("https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070")
            center/cover;
        padding: 20px;
        text-align: center;
      }

      .welcome-title {
        font-size: 48px;
        margin-bottom: 30px;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.5);
      }

      .welcome-subtitle {
        font-size: 22px;
        margin-bottom: 50px;
        color: #ccc;
        max-width: 600px;
        line-height: 1.6;
      }

      .cuatrimestres-grid {
        display: flex;
        gap: 40px;
        flex-wrap: wrap;
        justify-content: center;
        max-width: 1200px;
      }

      .cuatrimestre-card {
        width: 220px;
        cursor: pointer;
        transition: var(--transition);
        position: relative;
      }

      .cuatrimestre-card:hover {
        transform: scale(1.05);
      }

      .cuatrimestre-img {
        width: 100%;
        height: 220px;
        border-radius: 8px;
        object-fit: cover;
        border: 3px solid transparent;
        transition: var(--transition);
      }

      .cuatrimestre-card:hover .cuatrimestre-img {
        border-color: var(--primary);
        box-shadow: 0 0 20px rgba(13, 110, 253, 0.5);
      }

      .cuatrimestre-name {
        margin-top: 15px;
        font-size: 18px;
        font-weight: 500;
      }

      /* Vista de materias (series/películas) */
      .materias-view {
        display: none;
        flex-direction: column;
        height: 100vh;
        padding-top: 100px;
        background: var(--darker);
      }

      .materias-header {
        display: flex;
        align-items: center;
        padding: 20px 50px;
        margin-bottom: 30px;
      }

      .back-button {
        background: none;
        border: none;
        color: var(--light);
        font-size: 20px;
        cursor: pointer;
        margin-right: 20px;
        transition: var(--transition);
      }

      .back-button:hover {
        color: var(--primary);
        transform: scale(1.1);
      }

      .cuatrimestre-title {
        font-size: 28px;
        color: var(--light);
      }

      .materias-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 30px;
        padding: 0 50px;
      }

      .materia-card {
        background: var(--dark-gray);
        border-radius: 8px;
        overflow: hidden;
        transition: var(--transition);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        position: relative;
        cursor: pointer;
      }

      .materia-card:hover {
        transform: translateY(-10px);
        box-shadow: 0 15px 30px rgba(13, 110, 253, 0.2);
      }

      .materia-img {
        width: 100%;
        height: 200px;
        object-fit: cover;
      }

      .materia-info {
        padding: 20px;
      }

      .materia-name {
        font-size: 20px;
        margin-bottom: 10px;
      }

      .materia-groups {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
      }

      .group-tag {
        background: rgba(13, 110, 253, 0.2);
        color: var(--primary);
        padding: 5px 10px;
        border-radius: 20px;
        font-size: 14px;
        transition: var(--transition);
      }

      .group-tag:hover {
        background: var(--primary);
        color: white;
      }

      /* Vista de grupos (temporadas) */
      .grupos-view {
        display: none;
        flex-direction: column;
        height: 100vh;
        padding-top: 100px;
        background: var(--darker);
      }

      .grupos-header {
        display: flex;
        align-items: center;
        padding: 20px 50px;
        margin-bottom: 30px;
      }

      .materia-title {
        font-size: 28px;
        color: var(--light);
      }

      .grupos-container {
        display: flex;
        height: calc(100vh - 180px);
      }

      /* Menú lateral (como temporadas) */
      .grupos-menu {
        width: 300px;
        background: var(--dark);
        padding: 20px;
        overflow-y: auto;
        border-right: 1px solid var(--dark-gray);
      }

      .menu-title {
        font-size: 18px;
        margin-bottom: 20px;
        color: var(--primary);
        padding-bottom: 10px;
        border-bottom: 1px solid var(--dark-gray);
      }

      .grupos-list {
        list-style: none;
      }

      .grupo-menu-item {
        padding: 15px;
        margin-bottom: 10px;
        border-radius: 6px;
        cursor: pointer;
        transition: var(--transition);
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .grupo-menu-item:hover {
        background: var(--dark-gray);
      }

      .grupo-menu-item.active {
        background: var(--dark-gray);
        border-left: 4px solid var(--primary);
      }

      .grupo-menu-icon {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        background: var(--primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 14px;
      }

      /* Contenido del grupo */
      .grupo-content {
        flex: 1;
        padding: 30px;
        overflow-y: auto;
      }

      .grupo-header {
        margin-bottom: 30px;
        padding-bottom: 15px;
        border-bottom: 1px solid var(--dark-gray);
      }

      .grupo-name {
        font-size: 24px;
        margin-bottom: 10px;
      }

      .grupo-meta {
        display: flex;
        gap: 15px;
        font-size: 14px;
        color: var(--gray);
      }

      .content-section {
        margin-bottom: 40px;
      }

      .section-title {
        font-size: 20px;
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
        color: var(--primary);
        padding-bottom: 10px;
        border-bottom: 1px solid var(--dark-gray);
      }

      .section-icon {
        width: 36px;
        height: 36px;
        border-radius: 50%;
        background: rgba(13, 110, 253, 0.2);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 16px;
        color: var(--primary);
      }

      .alumnos-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
      }

      .alumno-card {
        background: var(--dark-gray);
        border-radius: 8px;
        padding: 20px;
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .alumno-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: var(--primary);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        font-weight: bold;
      }

      .alumno-info {
        flex: 1;
      }

      .alumno-name {
        font-size: 18px;
        margin-bottom: 5px;
      }

      .alumno-meta {
        font-size: 14px;
        color: var(--gray);
        display: flex;
        gap: 15px;
      }

      .progress-bar {
        height: 8px;
        background: var(--dark);
        border-radius: 4px;
        margin-top: 8px;
        overflow: hidden;
      }

      .progress-fill {
        height: 100%;
        background: var(--primary);
        border-radius: 4px;
      }

      .tareas-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
      }

      .tarea-card {
        background: var(--dark-gray);
        border-radius: 8px;
        padding: 20px;
        transition: var(--transition);
        border-left: 4px solid var(--primary);
      }

      .tarea-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
      }

      .tarea-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
      }

      .tarea-title {
        font-size: 18px;
        font-weight: 500;
      }

      .tarea-status {
        background: rgba(13, 110, 253, 0.2);
        color: var(--primary);
        padding: 3px 10px;
        border-radius: 20px;
        font-size: 12px;
      }

      .tarea-details {
        margin-bottom: 15px;
        color: var(--gray);
        font-size: 14px;
      }

      .tarea-meta {
        display: flex;
        justify-content: space-between;
        font-size: 14px;
        color: var(--gray);
      }

      .tarea-actions {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .btn {
        padding: 8px 15px;
        border-radius: 4px;
        font-size: 14px;
        cursor: pointer;
        border: none;
        transition: var(--transition);
      }

      .btn-primary {
        background: var(--primary);
        color: white;
      }

      .btn-primary:hover {
        background: var(--primary-dark);
      }

      .btn-secondary {
        background: var(--dark-gray);
        color: var(--light);
        border: 1px solid var(--gray);
      }

      .btn-secondary:hover {
        background: var(--light-gray);
      }

      /* Calendario */
      .calendar {
        background: var(--dark-gray);
        border-radius: 8px;
        padding: 20px;
      }

      .calendar-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .calendar-nav {
        display: flex;
        gap: 10px;
      }

      .calendar-nav-btn {
        background: var(--dark);
        border: none;
        color: var(--light);
        width: 36px;
        height: 36px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .calendar-month {
        font-size: 18px;
        font-weight: 500;
      }

      .calendar-grid {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 8px;
      }

      .calendar-day-header {
        text-align: center;
        padding: 10px;
        font-size: 14px;
        color: var(--gray);
      }

      .calendar-day {
        height: 60px;
        background: var(--dark);
        border-radius: 4px;
        display: flex;
        flex-direction: column;
        padding: 8px;
        cursor: pointer;
        transition: var(--transition);
        position: relative;
      }

      .calendar-day:hover {
        background: var(--light-gray);
      }

      .calendar-day.today {
        background: rgba(13, 110, 253, 0.2);
        border: 1px solid var(--primary);
      }

      .calendar-day.has-event::after {
        content: "";
        position: absolute;
        bottom: 5px;
        left: 50%;
        transform: translateX(-50%);
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--primary);
      }

      .calendar-day-number {
        font-size: 14px;
        margin-bottom: 4px;
      }

      .calendar-event {
        background: var(--primary);
        height: 4px;
        border-radius: 2px;
        margin-top: auto;
      }

      /* Modal */
      .modal {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0, 0, 0, 0.8);
        z-index: 2000;
        align-items: center;
        justify-content: center;
      }

      .modal.show {
        display: flex;
      }

      .modal-content {
        background: var(--dark);
        border-radius: 10px;
        width: 90%;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
        box-shadow: 0 5px 30px rgba(0, 0, 0, 0.5);
        position: relative;
      }

      .modal-header {
        padding: 20px;
        border-bottom: 1px solid var(--dark-gray);
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .modal-title {
        font-size: 22px;
        color: var(--primary);
      }

      .modal-close {
        background: none;
        border: none;
        color: var(--light);
        font-size: 24px;
        cursor: pointer;
        transition: var(--transition);
      }

      .modal-close:hover {
        color: var(--primary);
        transform: rotate(90deg);
      }

      .modal-body {
        padding: 20px;
      }

      .form-group {
        margin-bottom: 20px;
      }

      .form-label {
        display: block;
        margin-bottom: 8px;
        font-weight: 500;
      }

      .form-control {
        width: 100%;
        padding: 12px;
        background: var(--dark-gray);
        border: 1px solid var(--gray);
        border-radius: 4px;
        color: var(--light);
        font-size: 16px;
      }

      .form-control:focus {
        border-color: var(--primary);
        outline: none;
      }

      textarea.form-control {
        min-height: 100px;
        resize: vertical;
      }

      .modal-footer {
        padding: 20px;
        display: flex;
        justify-content: flex-end;
        gap: 10px;
        border-top: 1px solid var(--dark-gray);
      }

      /* Responsive */
      @media (max-width: 992px) {
        .navbar {
          padding: 20px;
        }

        .welcome-title {
          font-size: 36px;
        }

        .welcome-subtitle {
          font-size: 18px;
        }

        .cuatrimestre-card {
          width: 180px;
        }

        .materias-grid {
          grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
          padding: 0 20px;
        }

        .grupos-container {
          flex-direction: column;
        }

        .grupos-menu {
          width: 100%;
          height: auto;
          border-right: none;
          border-bottom: 1px solid var(--dark-gray);
        }
      }

      @media (max-width: 768px) {
        .welcome-title {
          font-size: 28px;
        }

        .welcome-subtitle {
          font-size: 16px;
          margin-bottom: 30px;
        }

        .cuatrimestres-grid {
          gap: 20px;
        }

        .cuatrimestre-card {
          width: 150px;
        }

        .cuatrimestre-img {
          height: 150px;
        }

        .materias-grid {
          grid-template-columns: 1fr;
        }

        .alumnos-grid,
        .tareas-grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <!-- Contenedor principal -->
    <div class="container">
      <!-- Barra de navegación -->
      <nav class="navbar">
        <a class="logo" id="mainLogo">
          <i class="fas fa-graduation-cap"></i>
          NETCLASSROOM
        </a>
        <div class="user-actions">
          <div class="user-profile" id="userProfile">
            <img
              src="https://randomuser.me/api/portraits/men/32.jpg"
              alt="Prof. Carlos Rodríguez"
            />
          </div>
          <div class="user-dropdown" id="userDropdown">
            <div class="dropdown-item" id="configBtn">
              <i class="fas fa-cog"></i>
              Configuración
            </div>
            <div class="dropdown-divider"></div>
            <div class="dropdown-item" id="logoutBtn">
              <i class="fas fa-sign-out-alt"></i>
              Cerrar sesión
            </div>
          </div>
        </div>
      </nav>

      <!-- Vista de selección de cuatrimestre (usuarios) -->
      <div class="cuatrimestres-view" id="cuatrimestresView">
        <h1 class="welcome-title">Bienvenido, Prof. Carlos Rodríguez</h1>
        <p class="welcome-subtitle">
          Selecciona el cuatrimestre que deseas administrar
        </p>

        <div class="cuatrimestres-grid">
          <!-- Cuarto Cuatrimestre -->
          <div class="cuatrimestre-card" data-cuatrimestre="cuarto">
            <img
              src="https://images.unsplash.com/photo-1523580494863-6f3031224c94?q=80&w=2070"
              alt="Cuarto Cuatrimestre"
              class="cuatrimestre-img"
            />
            <div class="cuatrimestre-name">Cuarto Cuatrimestre</div>
          </div>

          <!-- Quinto Cuatrimestre -->
          <div class="cuatrimestre-card" data-cuatrimestre="quinto">
            <img
              src="https://images.unsplash.com/photo-1516321318423-f06f85e504b3?q=80&w=2070"
              alt="Quinto Cuatrimestre"
              class="cuatrimestre-img"
            />
            <div class="cuatrimestre-name">Quinto Cuatrimestre</div>
          </div>

          <!-- Sexto Cuatrimestre -->
          <div class="cuatrimestre-card" data-cuatrimestre="sexto">
            <img
              src="https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=2070"
              alt="Sexto Cuatrimestre"
              class="cuatrimestre-img"
            />
            <div class="cuatrimestre-name">Sexto Cuatrimestre</div>
          </div>
        </div>
      </div>

      <!-- Vista de materias (series/películas) -->
      <div class="materias-view" id="materiasView">
        <div class="materias-header">
          <button class="back-button" id="backToCuatrimestres">
            <i class="fas fa-arrow-left"></i>
          </button>
          <h2 class="cuatrimestre-title" id="cuatrimestreTitle">
            Cuarto Cuatrimestre
          </h2>
        </div>

        <div class="materias-grid" id="materiasGrid">
          <!-- Las materias se insertarán dinámicamente aquí -->
        </div>
      </div>

      <!-- Vista de grupos (temporadas) -->
      <div class="grupos-view" id="gruposView">
        <div class="grupos-header">
          <button class="back-button" id="backToMaterias">
            <i class="fas fa-arrow-left"></i>
          </button>
          <h2 class="materia-title" id="materiaTitle">Matemáticas IV</h2>
        </div>

        <div class="grupos-container">
          <!-- Menú lateral de grupos -->
          <div class="grupos-menu">
            <h3 class="menu-title">Grupos</h3>
            <ul class="grupos-list" id="gruposList">
              <!-- Los grupos se insertarán dinámicamente aquí -->
            </ul>
          </div>

          <!-- Contenido del grupo -->
          <div class="grupo-content" id="grupoContent">
            <!-- Contenido dinámico de grupo -->
          </div>
        </div>
      </div>
    </div>

    <!-- Modal para asignar tarea -->
    <div class="modal" id="taskModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Asignar Nueva Tarea</h3>
          <button class="modal-close" id="closeTaskModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">Título</label>
            <input
              type="text"
              class="form-control"
              placeholder="Nombre de la tarea"
            />
          </div>
          <div class="form-group">
            <label class="form-label">Descripción</label>
            <textarea
              class="form-control"
              placeholder="Detalles de la tarea"
            ></textarea>
          </div>
          <div class="form-group">
            <label class="form-label">Fecha de entrega</label>
            <input type="date" class="form-control" />
          </div>
          <div class="form-group">
            <label class="form-label">Adjuntar archivo</label>
            <input type="file" class="form-control" />
          </div>
          <div class="form-group">
            <label class="form-label">Tipo de tarea</label>
            <select class="form-control">
              <option>PDF</option>
              <option>Video</option>
              <option>Enlace</option>
              <option>Documento</option>
              <option>Presentación</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary">Cancelar</button>
          <button class="btn btn-primary">Asignar Tarea</button>
        </div>
      </div>
    </div>

    <!-- Modal para calificar tarea -->
    <div class="modal" id="gradeModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Calificar Tarea</h3>
          <button class="modal-close" id="closeGradeModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">Tarea</label>
            <input
              type="text"
              class="form-control"
              value="Proyecto Final"
              readonly
            />
          </div>
          <div class="form-group">
            <label class="form-label">Alumno</label>
            <select class="form-control">
              <option>María López</option>
              <option>Juan Pérez</option>
              <option>Ana Gómez</option>
              <option>Carlos Ramírez</option>
              <option>Laura Torres</option>
            </select>
          </div>
          <div class="form-group">
            <label class="form-label">Calificación (0-10)</label>
            <input
              type="number"
              class="form-control"
              min="0"
              max="10"
              step="0.1"
              placeholder="9.5"
            />
          </div>
          <div class="form-group">
            <label class="form-label">Comentarios</label>
            <textarea
              class="form-control"
              placeholder="Retroalimentación para el alumno"
            ></textarea>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary">Cancelar</button>
          <button class="btn btn-primary">Guardar Calificación</button>
        </div>
      </div>
    </div>

    <!-- Modal para detalles de tarea -->
    <div class="modal" id="detailModal">
      <div class="modal-content">
        <div class="modal-header">
          <h3 class="modal-title">Detalles de Tarea</h3>
          <button class="modal-close" id="closeDetailModal">&times;</button>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="form-label">Título</label>
            <input
              type="text"
              class="form-control"
              value="Proyecto Final"
              readonly
            />
          </div>
          <div class="form-group">
            <label class="form-label">Descripción</label>
            <textarea class="form-control" readonly>
Desarrollar una aplicación web completa utilizando los conocimientos adquiridos durante el cuatrimestre. Debe incluir frontend, backend y base de datos.</textarea
            >
          </div>
          <div class="form-group">
            <label class="form-label">Fecha de asignación</label>
            <input
              type="text"
              class="form-control"
              value="10/12/2023"
              readonly
            />
          </div>
          <div class="form-group">
            <label class="form-label">Fecha de entrega</label>
            <input
              type="text"
              class="form-control"
              value="15/12/2023"
              readonly
            />
          </div>
          <div class="form-group">
            <label class="form-label">Estado</label>
            <input
              type="text"
              class="form-control"
              value="Por calificar (12/15 entregas)"
              readonly
            />
          </div>
          <div class="form-group">
            <label class="form-label">Archivos adjuntos</label>
            <div class="file-list">
              <div class="file-item">
                <i class="fas fa-file-pdf"></i> Instrucciones_Proyecto.pdf
              </div>
              <div class="file-item">
                <i class="fas fa-file-image"></i> Diagramas_Referencia.png
              </div>
            </div>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-primary">Descargar Entregas</button>
        </div>
      </div>
    </div>

    <script>
      // Datos de la aplicación
      const materiasData = {
        cuarto: [
          {
            nombre: "Matemáticas IV",
            imagen:
              "https://images.unsplash.com/photo-1596495577886-d920f1fb7238?q=80&w=2074",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: [
                  "María López",
                  "Juan Pérez",
                  "Ana Gómez",
                  "Carlos Ramírez",
                  "Laura Torres",
                ],
                tareas: ["Proyecto Final", "Examen Parcial", "Tarea Derivadas"],
              },
              {
                nombre: "Grupo B",
                alumnos: [
                  "Pedro Sánchez",
                  "Sofía Ruiz",
                  "Miguel Ángel",
                  "Elena Castro",
                ],
                tareas: [
                  "Proyecto Final",
                  "Tarea Integrales",
                  "Práctica Laboratorio",
                ],
              },
              {
                nombre: "Grupo C",
                alumnos: [
                  "Fernando Díaz",
                  "Lucía Morales",
                  "Jorge Martín",
                  "Carmen Vega",
                ],
                tareas: [
                  "Examen Parcial",
                  "Tarea Álgebra",
                  "Práctica Laboratorio",
                ],
              },
            ],
          },
          {
            nombre: "Biología II",
            imagen:
              "https://images.unsplash.com/photo-1532094349884-543bc11b234d?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["David Ortega", "Patricia Jiménez", "Raúl Navarro"],
                tareas: [
                  "Reporte Laboratorio",
                  "Examen Genética",
                  "Proyecto Ecosistemas",
                ],
              },
              {
                nombre: "Grupo B",
                alumnos: ["Sara Mendoza", "Héctor Blanco", "Natalia Romero"],
                tareas: [
                  "Examen Genética",
                  "Proyecto Ecosistemas",
                  "Tarea Evolución",
                ],
              },
            ],
          },
          {
            nombre: "Física II",
            imagen:
              "https://images.unsplash.com/photo-1505506874110-6a7a69069a08?q=80&w=2067",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: [
                  "Roberto Medina",
                  "Isabel Cortés",
                  "Francisco Gil",
                  "Marta Herrera",
                ],
                tareas: [
                  "Proyecto Electromagnetismo",
                  "Examen Cinemática",
                  "Tarea Termodinámica",
                ],
              },
              {
                nombre: "Grupo B",
                alumnos: ["Alberto Campos", "Cristina León", "Víctor Peña"],
                tareas: [
                  "Examen Cinemática",
                  "Tarea Termodinámica",
                  "Práctica Laboratorio",
                ],
              },
            ],
          },
          {
            nombre: "Historia de México II",
            imagen:
              "https://images.unsplash.com/photo-1618235360080-91b1e9c3a1b6?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Gabriel Silva", "Olivia Reyes", "Ricardo Mendoza"],
                tareas: [
                  "Ensayo Independencia",
                  "Examen Revolución",
                  "Proyecto Cultura",
                ],
              },
            ],
          },
          {
            nombre: "Literatura",
            imagen:
              "https://images.unsplash.com/photo-1506880018603-83d5b814b5a6?q=80&w=1974",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Silvia Castro", "Arturo Jiménez", "Beatriz Núñez"],
                tareas: [
                  "Análisis Poema",
                  "Ensayo Novela",
                  "Tarea Géneros Literarios",
                ],
              },
            ],
          },
          {
            nombre: "Inglés IV",
            imagen:
              "https://images.unsplash.com/photo-1529421308418-eab98863cee1?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Alejandro Vega", "Daniela Ponce", "Hugo Flores"],
                tareas: [
                  "Presentación Oral",
                  "Examen Gramática",
                  "Tarea Vocabulario",
                ],
              },
            ],
          },
          {
            nombre: "Comunidades Virtuales",
            imagen:
              "https://images.unsplash.com/photo-1533750349088-cd871a92f312?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Paola Ríos", "Roberto Soto", "Verónica Delgado"],
                tareas: [
                  "Proyecto Red Social",
                  "Análisis Plataformas",
                  "Tarea Seguridad Digital",
                ],
              },
            ],
          },
          {
            nombre: "Mantenimiento y redes de cómputo",
            imagen:
              "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Felipe Castro", "Diana Morales", "Oscar Sánchez"],
                tareas: [
                  "Práctica Cableado",
                  "Examen Protocolos",
                  "Proyecto Red LAN",
                ],
              },
            ],
          },
          {
            nombre: "Orientación profesiográfica",
            imagen:
              "https://images.unsplash.com/photo-1551836022-d5d88e9218df?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Lorena Guzmán", "Joaquín Rojas", "Renata Espinoza"],
                tareas: [
                  "Test Vocacional",
                  "Proyecto Carrera",
                  "Tarea Entrevista",
                ],
              },
            ],
          },
        ],
        quinto: [
          {
            nombre: "Geografia",
            imagen:
              "https://images.unsplash.com/photo-1467269204594-9661b134dd2b?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["María López", "Juan Pérez", "Ana Gómez"],
                tareas: [
                  "Reporte Geopolítica",
                  "Examen Climas",
                  "Proyecto Cartografía",
                ],
              },
              {
                nombre: "Grupo B",
                alumnos: ["Carlos Ramírez", "Laura Torres", "Pedro Sánchez"],
                tareas: [
                  "Examen Climas",
                  "Proyecto Cartografía",
                  "Tarea Demografía",
                ],
              },
            ],
          },
          {
            nombre: "Estructura socioeconómica de México",
            imagen:
              "https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?q=80&w=2071",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Sofía Ruiz", "Miguel Ángel", "Elena Castro"],
                tareas: [
                  "Ensayo Economía",
                  "Examen Indicadores",
                  "Proyecto Desarrollo",
                ],
              },
            ],
          },
          {
            nombre: "Administración I",
            imagen:
              "https://images.unsplash.com/photo-1552664730-d307ca884978?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Fernando Díaz", "Lucía Morales", "Jorge Martín"],
                tareas: [
                  "Proyecto Empresa",
                  "Examen Teorías",
                  "Tarea Organigrama",
                ],
              },
            ],
          },
          {
            nombre: "Derecho I",
            imagen:
              "https://images.unsplash.com/photo-1589391886645-d51941baf7fb?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Carmen Vega", "David Ortega", "Patricia Jiménez"],
                tareas: [
                  "Ensayo Constitución",
                  "Examen Derechos",
                  "Tarea Caso Jurídico",
                ],
              },
            ],
          },
          {
            nombre: "Cálculo diferencial",
            imagen:
              "https://images.unsplash.com/photo-1635070041078-e363dbe005cb?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Raúl Navarro", "Sara Mendoza", "Héctor Blanco"],
                tareas: [
                  "Tarea Derivadas",
                  "Examen Límites",
                  "Proyecto Aplicaciones",
                ],
              },
            ],
          },
          {
            nombre: "Probabilidad y estadística I",
            imagen:
              "https://images.unsplash.com/photo-1509228468518-180dd4864904?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Natalia Romero", "Roberto Medina", "Isabel Cortés"],
                tareas: [
                  "Proyecto Datos",
                  "Examen Distribuciones",
                  "Tarea Probabilidades",
                ],
              },
            ],
          },
          {
            nombre: "Sistemas de información",
            imagen:
              "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Francisco Gil", "Marta Herrera", "Alberto Campos"],
                tareas: ["Proyecto BD", "Examen Modelos", "Tarea Diagramas"],
              },
            ],
          },
          {
            nombre: "Programación",
            imagen:
              "https://images.unsplash.com/photo-1542831371-29b0f74f9713?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Cristina León", "Víctor Peña", "Gabriel Silva"],
                tareas: [
                  "Proyecto Final",
                  "Examen Algoritmos",
                  "Tarea Estructuras",
                ],
              },
              {
                nombre: "Grupo Avanzado",
                alumnos: ["Olivia Reyes", "Ricardo Mendoza", "Silvia Castro"],
                tareas: [
                  "Proyecto Final",
                  "Tarea Base de Datos",
                  "Práctica Laboratorio",
                ],
              },
            ],
          },
          {
            nombre: "Vida saludable",
            imagen:
              "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?q=80&w=2120",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Arturo Jiménez", "Beatriz Núñez", "Alejandro Vega"],
                tareas: [
                  "Plan Alimenticio",
                  "Reporte Ejercicio",
                  "Proyecto Bienestar",
                ],
              },
            ],
          },
        ],
        sexto: [
          {
            nombre: "Filosofía",
            imagen:
              "https://images.unsplash.com/photo-1455390582262-044cdead277a?q=80&w=2067",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Daniela Ponce", "Hugo Flores", "Paola Ríos"],
                tareas: [
                  "Ensayo Existencialismo",
                  "Examen Ética",
                  "Tarea Lógica",
                ],
              },
            ],
          },
          {
            nombre: "Ecología y medio ambiente",
            imagen:
              "https://images.unsplash.com/photo-1466611653911-95081537e5b7?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Roberto Soto", "Verónica Delgado", "Felipe Castro"],
                tareas: [
                  "Proyecto Reciclaje",
                  "Examen Ecosistemas",
                  "Tarea Contaminación",
                ],
              },
            ],
          },
          {
            nombre: "Historia universal contemporánea",
            imagen:
              "https://images.unsplash.com/photo-1507697364665-69eec30ea1eb?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Diana Morales", "Oscar Sánchez", "Lorena Guzmán"],
                tareas: [
                  "Ensayo Guerras Mundiales",
                  "Examen Globalización",
                  "Tarea Revoluciones",
                ],
              },
            ],
          },
          {
            nombre: "Administración II",
            imagen:
              "https://images.unsplash.com/photo-1551288049-bebda4e38f71?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Joaquín Rojas", "Renata Espinoza", "María López"],
                tareas: [
                  "Proyecto Plan Negocios",
                  "Examen Recursos Humanos",
                  "Tarea Finanzas",
                ],
              },
            ],
          },
          {
            nombre: "Derecho II",
            imagen:
              "https://images.unsplash.com/photo-1589829545856-d10d557cf95f?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Juan Pérez", "Ana Gómez", "Carlos Ramírez"],
                tareas: [
                  "Ensayo Derecho Laboral",
                  "Examen Derecho Civil",
                  "Tarea Caso Penal",
                ],
              },
            ],
          },
          {
            nombre: "Cálculo Integral",
            imagen:
              "https://images.unsplash.com/photo-1635070041406-76568a56f8c7?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Laura Torres", "Pedro Sánchez", "Sofía Ruiz"],
                tareas: [
                  "Tarea Integrales",
                  "Examen Series",
                  "Proyecto Aplicaciones",
                ],
              },
            ],
          },
          {
            nombre: "Probabilidad y estadística II",
            imagen:
              "https://images.unsplash.com/photo-1587614382346-4ec70e388b28?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Miguel Ángel", "Elena Castro", "Fernando Díaz"],
                tareas: [
                  "Proyecto Inferencia",
                  "Examen Regresión",
                  "Tarea Muestreo",
                ],
              },
            ],
          },
          {
            nombre: "Páginas web",
            imagen:
              "https://images.unsplash.com/photo-1547658719-da2b51169166?q=80&w=2080",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Lucía Morales", "Jorge Martín", "Carmen Vega"],
                tareas: [
                  "Proyecto Final",
                  "Tarea HTML/CSS",
                  "Práctica JavaScript",
                ],
              },
              {
                nombre: "Grupo Avanzado",
                alumnos: ["David Ortega", "Patricia Jiménez", "Raúl Navarro"],
                tareas: ["Proyecto Final", "Tarea React", "Práctica API"],
              },
            ],
          },
          {
            nombre: "Diseño digital",
            imagen:
              "https://images.unsplash.com/photo-1467232004584-a241de8bcf5d?q=80&w=2069",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Sara Mendoza", "Héctor Blanco", "Natalia Romero"],
                tareas: [
                  "Proyecto Branding",
                  "Tarea Tipografía",
                  "Práctica Photoshop",
                ],
              },
            ],
          },
          {
            nombre: "Desarrollo e impacto social",
            imagen:
              "https://images.unsplash.com/photo-1523240795612-9a054b0db644?q=80&w=2070",
            grupos: [
              {
                nombre: "Grupo A",
                alumnos: ["Roberto Medina", "Isabel Cortés", "Francisco Gil"],
                tareas: [
                  "Proyecto Comunidad",
                  "Examen Sostenibilidad",
                  "Tarea Responsabilidad Social",
                ],
              },
            ],
          },
        ],
      };

      // Referencias a elementos del DOM
      const cuatrimestresView = document.getElementById("cuatrimestresView");
      const materiasView = document.getElementById("materiasView");
      const materiasGrid = document.getElementById("materiasGrid");
      const cuatrimestreTitle = document.getElementById("cuatrimestreTitle");
      const backToCuatrimestres = document.getElementById(
        "backToCuatrimestres",
      );
      const gruposView = document.getElementById("gruposView");
      const gruposList = document.getElementById("gruposList");
      const grupoContent = document.getElementById("grupoContent");
      const materiaTitle = document.getElementById("materiaTitle");
      const backToMaterias = document.getElementById("backToMaterias");
      const mainLogo = document.getElementById("mainLogo");
      const userProfile = document.getElementById("userProfile");
      const userDropdown = document.getElementById("userDropdown");
      const configBtn = document.getElementById("configBtn");
      const logoutBtn = document.getElementById("logoutBtn");
      const taskModal = document.getElementById("taskModal");
      const closeTaskModal = document.getElementById("closeTaskModal");
      const gradeModal = document.getElementById("gradeModal");
      const closeGradeModal = document.getElementById("closeGradeModal");
      const detailModal = document.getElementById("detailModal");
      const closeDetailModal = document.getElementById("closeDetailModal");

      // Variables de estado
      let currentCuatrimestre = "";
      let currentMateria = null;
      let currentGrupo = null;
      let currentDate = new Date();

      // Selección de cuatrimestre (usuario)
      document.querySelectorAll(".cuatrimestre-card").forEach((card) => {
        card.addEventListener("click", function () {
          const cuatrimestre = this.getAttribute("data-cuatrimestre");
          currentCuatrimestre = cuatrimestre;

          // Ocultar vista de cuatrimestres y mostrar vista de materias
          cuatrimestresView.style.display = "none";
          materiasView.style.display = "flex";

          // Actualizar título del cuatrimestre
          cuatrimestreTitle.textContent =
            this.querySelector(".cuatrimestre-name").textContent;

          // Cargar materias del cuatrimestre seleccionado
          cargarMaterias(cuatrimestre);
        });
      });

      // Función para cargar materias (series)
      function cargarMaterias(cuatrimestre) {
        materiasGrid.innerHTML = "";

        const materias = materiasData[cuatrimestre];

        materias.forEach((materia) => {
          const materiaCard = document.createElement("div");
          materiaCard.className = "materia-card";
          materiaCard.innerHTML = `
                    <img src="${materia.imagen}" alt="${materia.nombre}" class="materia-img">
                    <div class="materia-info">
                        <h3 class="materia-name">${materia.nombre}</h3>
                        <div class="materia-groups">
                            ${materia.grupos
                              .map(
                                (grupo) => `
                                <div class="group-tag">
                                    ${grupo.nombre}
                                </div>
                            `,
                              )
                              .join("")}
                        </div>
                    </div>
                `;

          // Evento para seleccionar materia
          materiaCard.addEventListener("click", () => {
            currentMateria = materia;
            mostrarGrupos(materia);
          });

          materiasGrid.appendChild(materiaCard);
        });
      }

      // Función para mostrar grupos (temporadas)
      function mostrarGrupos(materia) {
        materiaTitle.textContent = materia.nombre;
        materiasView.style.display = "none";
        gruposView.style.display = "flex";

        // Cargar grupos en el menú lateral
        cargarGruposMenu(materia.grupos);
      }

      // Función para cargar grupos en el menú lateral
      function cargarGruposMenu(grupos) {
        gruposList.innerHTML = "";

        grupos.forEach((grupo, index) => {
          const grupoItem = document.createElement("li");
          grupoItem.className = "grupo-menu-item";
          if (index === 0) {
            grupoItem.classList.add("active");
            cargarContenidoGrupo(grupo);
          }
          grupoItem.innerHTML = `
                    <div class="grupo-menu-icon">${index + 1}</div>
                    <div>${grupo.nombre}</div>
                `;

          grupoItem.addEventListener("click", () => {
            // Remover clase activa de todos los elementos
            document.querySelectorAll(".grupo-menu-item").forEach((item) => {
              item.classList.remove("active");
            });
            // Agregar clase activa al elemento seleccionado
            grupoItem.classList.add("active");
            // Cargar contenido del grupo
            cargarContenidoGrupo(grupo);
          });

          gruposList.appendChild(grupoItem);
        });
      }

      // Función para cargar contenido del grupo seleccionado
      function cargarContenidoGrupo(grupo) {
        currentGrupo = grupo;

        grupoContent.innerHTML = `
                <div class="grupo-header">
                    <h3 class="grupo-name">${grupo.nombre}</h3>
                    <div class="grupo-meta">
                        <span><i class="fas fa-user-graduate"></i> ${grupo.alumnos.length} alumnos</span>
                        <span><i class="fas fa-tasks"></i> ${grupo.tareas.length} tareas</span>
                    </div>
                </div>
                
                <!-- Menú de navegación -->
                <div class="content-section">
                    <h4 class="section-title">
                        <div class="section-icon"><i class="fas fa-users"></i></div>
                        Alumnos
                    </h4>
                    <div class="alumnos-grid">
                        ${grupo.alumnos
                          .map(
                            (alumno) => `
                            <div class="alumno-card">
                                <div class="alumno-avatar">${alumno.charAt(0)}</div>
                                <div class="alumno-info">
                                    <div class="alumno-name">${alumno}</div>
                                    <div class="alumno-meta">
                                        <span>Actividades: 8/10</span>
                                        <span>Calificación: 9.2</span>
                                    </div>
                                    <div class="progress-bar">
                                        <div class="progress-fill" style="width: 92%"></div>
                                    </div>
                                </div>
                            </div>
                        `,
                          )
                          .join("")}
                    </div>
                </div>
                
                <div class="content-section">
                    <h4 class="section-title">
                        <div class="section-icon"><i class="fas fa-calendar-alt"></i></div>
                        Calendario
                    </h4>
                    <div class="calendar">
                        <div class="calendar-header">
                            <div class="calendar-nav">
                                <button class="calendar-nav-btn" id="prevMonth">
                                    <i class="fas fa-chevron-left"></i>
                                </button>
                                <button class="calendar-nav-btn" id="nextMonth">
                                    <i class="fas fa-chevron-right"></i>
                                </button>
                            </div>
                            <div class="calendar-month" id="calendarMonth">${getMonthYear(currentDate)}</div>
                        </div>
                        <div class="calendar-grid" id="calendarGrid">
                            ${generateCalendar(currentDate)}
                        </div>
                    </div>
                </div>
                
                <div class="content-section">
                    <h4 class="section-title">
                        <div class="section-icon"><i class="fas fa-tasks"></i></div>
                        Tareas
                    </h4>
                    <div class="tareas-grid">
                        ${grupo.tareas
                          .map(
                            (tarea, index) => `
                            <div class="tarea-card">
                                <div class="tarea-header">
                                    <div class="tarea-title">${tarea}</div>
                                    <div class="tarea-status">Por calificar</div>
                                </div>
                                <div class="tarea-details">
                                    Tarea asignada el 10/12/2023. Entrega: 15/12/2023
                                </div>
                                <div class="tarea-meta">
                                    <span><i class="fas fa-file"></i> 12 entregas</span>
                                    <span><i class="fas fa-clock"></i> 5 días restantes</span>
                                </div>
                                <div class="tarea-actions">
                                    <button class="btn btn-primary grade-btn" data-task="${tarea}">
                                        Calificar
                                    </button>
                                    <button class="btn btn-secondary detail-btn" data-task="${tarea}">
                                        Ver detalles
                                    </button>
                                </div>
                            </div>
                        `,
                          )
                          .join("")}
                        <div class="tarea-card">
                            <div class="tarea-header">
                                <div class="tarea-title">Asignar nueva tarea</div>
                                <div class="tarea-status">Nuevo</div>
                            </div>
                            <div class="tarea-details">
                                Crear una nueva tarea para este grupo
                            </div>
                            <div class="tarea-actions">
                                <button class="btn btn-primary" id="newTaskBtn">
                                    <i class="fas fa-plus"></i> Crear tarea
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            `;

        // Event listeners para los botones del calendario
        document.getElementById("prevMonth").addEventListener("click", () => {
          currentDate.setMonth(currentDate.getMonth() - 1);
          updateCalendar();
        });

        document.getElementById("nextMonth").addEventListener("click", () => {
          currentDate.setMonth(currentDate.getMonth() + 1);
          updateCalendar();
        });

        // Event listeners para los botones de tareas
        document.getElementById("newTaskBtn").addEventListener("click", () => {
          taskModal.classList.add("show");
        });

        document.querySelectorAll(".grade-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            gradeModal.classList.add("show");
          });
        });

        document.querySelectorAll(".detail-btn").forEach((btn) => {
          btn.addEventListener("click", function () {
            detailModal.classList.add("show");
          });
        });
      }

      // Función para generar el calendario
      function generateCalendar(date) {
        const year = date.getFullYear();
        const month = date.getMonth();

        // Primer día del mes
        const firstDay = new Date(year, month, 1);
        // Último día del mes
        const lastDay = new Date(year, month + 1, 0);
        // Días en el mes
        const daysInMonth = lastDay.getDate();
        // Día de la semana del primer día (0 = Domingo, 1 = Lunes, etc.)
        const firstDayOfWeek = firstDay.getDay();

        // Nombres de los días de la semana
        const dayNames = ["Dom", "Lun", "Mar", "Mié", "Jue", "Vie", "Sáb"];

        let calendarHTML = "";

        // Encabezados de los días
        dayNames.forEach((day) => {
          calendarHTML += `<div class="calendar-day-header">${day}</div>`;
        });

        // Días vacíos al principio
        for (let i = 0; i < firstDayOfWeek; i++) {
          calendarHTML += '<div class="calendar-day"></div>';
        }

        // Días del mes
        const today = new Date();
        for (let day = 1; day <= daysInMonth; day++) {
          const dayDate = new Date(year, month, day);
          const isToday =
            day === today.getDate() &&
            month === today.getMonth() &&
            year === today.getFullYear();
          const hasEvent = Math.random() > 0.7; // Algunos días tendrán eventos

          calendarHTML += `
                    <div class="calendar-day ${isToday ? "today" : ""} ${hasEvent ? "has-event" : ""}" 
                         data-date="${dayDate.toISOString().split("T")[0]}">
                        <div class="calendar-day-number">${day}</div>
                    </div>
                `;
        }

        return calendarHTML;
      }

      // Actualizar calendario
      function updateCalendar() {
        document.getElementById("calendarMonth").textContent =
          getMonthYear(currentDate);
        document.getElementById("calendarGrid").innerHTML =
          generateCalendar(currentDate);

        // Agregar evento a los días del calendario
        document.querySelectorAll(".calendar-day").forEach((day) => {
          if (day.dataset.date) {
            day.addEventListener("click", () => {
              const date = day.dataset.date;
              taskModal.classList.add("show");
            });
          }
        });
      }

      // Obtener mes y año en formato texto
      function getMonthYear(date) {
        const months = [
          "Enero",
          "Febrero",
          "Marzo",
          "Abril",
          "Mayo",
          "Junio",
          "Julio",
          "Agosto",
          "Septiembre",
          "Octubre",
          "Noviembre",
          "Diciembre",
        ];
        return `${months[date.getMonth()]} ${date.getFullYear()}`;
      }

      // Botones para volver atrás
      backToCuatrimestres.addEventListener("click", function () {
        materiasView.style.display = "none";
        cuatrimestresView.style.display = "flex";
      });

      backToMaterias.addEventListener("click", function () {
        gruposView.style.display = "none";
        materiasView.style.display = "flex";
      });

      // Logo para regresar al inicio
      mainLogo.addEventListener("click", function () {
        materiasView.style.display = "none";
        gruposView.style.display = "none";
        cuatrimestresView.style.display = "flex";
      });

      // Menú de usuario
      userProfile.addEventListener("click", function () {
        userDropdown.classList.toggle("show");
      });

      // Cerrar menú al hacer clic fuera
      document.addEventListener("click", function (e) {
        if (
          !userProfile.contains(e.target) &&
          !userDropdown.contains(e.target)
        ) {
          userDropdown.classList.remove("show");
        }
      });

      // Botones del menú de usuario
      configBtn.addEventListener("click", function () {
        window.open("configuracion.html", "_blank");
      });

      logoutBtn.addEventListener("click", function () {
        alert("Sesión cerrada. Redirigiendo a la página de inicio...");
        // Aquí iría la lógica real de cierre de sesión
      });

      // Cerrar modales
      closeTaskModal.addEventListener("click", function () {
        taskModal.classList.remove("show");
      });

      closeGradeModal.addEventListener("click", function () {
        gradeModal.classList.remove("show");
      });

      closeDetailModal.addEventListener("click", function () {
        detailModal.classList.remove("show");
      });

      // Cerrar modales al hacer clic fuera
      window.addEventListener("click", function (e) {
        if (e.target === taskModal) {
          taskModal.classList.remove("show");
        }
        if (e.target === gradeModal) {
          gradeModal.classList.remove("show");
        }
        if (e.target === detailModal) {
          detailModal.classList.remove("show");
        }
      });

      // Efecto de scroll en la barra de navegación
      window.addEventListener("scroll", function () {
        const navbar = document.querySelector(".navbar");
        if (window.scrollY > 50) {
          navbar.classList.add("scrolled");
        } else {
          navbar.classList.remove("scrolled");
        }
      });

      // Inicializar calendario
      document.addEventListener("DOMContentLoaded", function () {
        // Agregar evento a los días del calendario
        setTimeout(() => {
          document.querySelectorAll(".calendar-day").forEach((day) => {
            if (day.dataset.date) {
              day.addEventListener("click", () => {
                const date = day.dataset.date;
                taskModal.classList.add("show");
              });
            }
          });
        }, 500);
      });
    </script>
  </body>
</html>
